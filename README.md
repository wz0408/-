# ä¿¡æ¯æ£€ç´¢ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºPythonçš„æ™ºèƒ½æ–‡æ¡£æ£€ç´¢ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ£€ç´¢ç®—æ³•å’Œå®ä½“è¯†åˆ«åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å¤šç®—æ³•æ£€ç´¢**: BM25ã€TF-IDFã€æ··åˆæ£€ç´¢
- ğŸ·ï¸ **å®ä½“è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«å¤§å­¦ã€åŸå¸‚ã€ä¸“ä¸šç­‰å®ä½“
- ğŸ“Š **æ€§èƒ½è¯„ä¼°**: å†…ç½®å®Œæ•´çš„æ£€ç´¢è¯„ä¼°æŒ‡æ ‡
- ğŸ’¬ **äº¤äº’ç•Œé¢**: å‘½ä»¤è¡Œäº¤äº’å¼æœç´¢ä½“éªŒ

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### è¿è¡Œç³»ç»Ÿ
```bash
python main.py
```

### åŸºæœ¬ä½¿ç”¨
ç³»ç»Ÿå¯åŠ¨åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
- `search` - æ‰§è¡Œæœç´¢
- `demo` - åŠŸèƒ½æ¼”ç¤º
- `eval` - ç³»ç»Ÿè¯„ä¼°
- `quit` - é€€å‡ºç³»ç»Ÿ

## é¡¹ç›®ç»“æ„
```
project/
â”œâ”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt        # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ data/                   # æ–‡æ¡£æ•°æ®ç›®å½•
â”œâ”€â”€ retrieval/              # æ£€ç´¢ç®—æ³•æ¨¡å—
â”‚   â”œâ”€â”€ base_retriever.py  # æ£€ç´¢å™¨åŸºç±»
â”‚   â”œâ”€â”€ bm25_retriever.py  # BM25æ£€ç´¢å™¨
â”‚   â”œâ”€â”€ tfidf_retriever.py # TF-IDFæ£€ç´¢å™¨
â”‚   â””â”€â”€ hybrid_retriever.py # æ··åˆæ£€ç´¢å™¨
â”œâ”€â”€ ner/                   # å®ä½“è¯†åˆ«æ¨¡å—
â”‚   â””â”€â”€ entity_extractor.py # å®ä½“æå–å™¨
â”œâ”€â”€ evaluation/            # è¯„ä¼°æ¨¡å—
â”‚   â””â”€â”€ metrics.py        # è¯„ä¼°æŒ‡æ ‡
â””â”€â”€ config/               # é…ç½®æ¨¡å—
    â””â”€â”€ settings.py       # ç³»ç»Ÿè®¾ç½®
```

## æ ¸å¿ƒåŠŸèƒ½

### æ–‡æ¡£æ£€ç´¢
```python
from main import AdvancedSearchSystem

system = AdvancedSearchSystem()
results = system.search("åŒ—äº¬ å¤§å­¦", retriever_type='hybrid', top_k=5)
```

### å®ä½“è¯†åˆ«
ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«æ–‡æ¡£ä¸­çš„å®ä½“ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
- å¤§å­¦åç§°ï¼ˆæ¸…åå¤§å­¦ã€åŒ—äº¬å¤§å­¦ç­‰ï¼‰
- åŸå¸‚åœ°ç‚¹ï¼ˆåŒ—äº¬ã€ä¸Šæµ·ç­‰ï¼‰
- ä¸“ä¸šé¢†åŸŸï¼ˆè®¡ç®—æœºç§‘å­¦ã€äººå·¥æ™ºèƒ½ç­‰ï¼‰
- æ—¶é—´ä¿¡æ¯ï¼ˆ2024å¹´ã€æœªæ¥ç­‰ï¼‰

### æ€§èƒ½è¯„ä¼°
æ”¯æŒå®Œæ•´çš„æ£€ç´¢è¯„ä¼°æŒ‡æ ‡ï¼š
- Precision@K, Recall@K, F1@K
- MAP (Mean Average Precision)
- MRR (Mean Reciprocal Rank)
- NDCG@K (Normalized Discounted Cumulative Gain)

## ä¾èµ–ç¯å¢ƒ

- Python 3.7+
- ä¸»è¦ä¾èµ–åŒ…ï¼š
  - rank-bm25
  - scikit-learn
  - jieba
  - numpy

## æ•°æ®å‡†å¤‡

å°†æ–‡æœ¬æ–‡ä»¶(.txtæ ¼å¼)æ”¾å…¥`data/`ç›®å½•å³å¯è‡ªåŠ¨åŠ è½½ã€‚ç³»ç»Ÿä¹Ÿæ”¯æŒè‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ•°æ®ã€‚

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ£€ç´¢ç®—æ³•
ç»§æ‰¿`BaseRetriever`ç±»å¹¶å®ç°`retrieve`æ–¹æ³•ï¼š
```python
from retrieval.base_retriever import BaseRetriever

class CustomRetriever(BaseRetriever):
    def retrieve(self, query, top_k=3):
        # å®ç°è‡ªå®šä¹‰æ£€ç´¢é€»è¾‘
        return results
```

### æ·»åŠ æ–°çš„å®ä½“ç±»å‹
åœ¨`entity_extractor.py`ä¸­æ‰©å±•å®ä½“è¯†åˆ«è§„åˆ™ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ã€‚

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜è¯·æ£€æŸ¥ï¼š
1. ä¾èµ–åŒ…æ˜¯å¦æ­£ç¡®å®‰è£…
2. dataç›®å½•æ˜¯å¦å­˜åœ¨ä¸”åŒ…å«æ–‡æ¡£
3. æ–‡æ¡£æ ¼å¼æ˜¯å¦ä¸ºUTF-8ç¼–ç çš„txtæ–‡ä»¶

---
*æ•°æ®é›†é“¾æ¥ï¼šhttp://thuctc.thunlp.org/message*
